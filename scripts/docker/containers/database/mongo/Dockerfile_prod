# ======================================================================================================================
# Dockerfile - Mongo                                                                      https://hub.docker.com/_/Mongo
# ======================================================================================================================
ARG MONGO_VERSION

# ----------------------------------------------------------------------------------------------------------------------
# STEP - 01 : Pull official base image 
# ----------------------------------------------------------------------------------------------------------------------
FROM mongo:${MONGO_VERSION}

# ----------------------------------------------------------------------------------------------------------------------
# STEP - 02 : Set environment variables
# ----------------------------------------------------------------------------------------------------------------------
#RUN echo "[ Mongo ] Set environment variables"

# ----------------------------------------------------------------------------------------------------------------------
# STEP - 03 : Set Work directory
# ----------------------------------------------------------------------------------------------------------------------
#RUN echo "[ Mongo ] Set Work directory "

# ----------------------------------------------------------------------------------------------------------------------
# STEP - 04 : Install packages
# ----------------------------------------------------------------------------------------------------------------------
#RUN echo "[ Mongo ] Install packages"

# ----------------------------------------------------------------------------------------------------------------------
# STEP - 05 : Update configuration
# ----------------------------------------------------------------------------------------------------------------------
RUN echo "[ Mongo ] Update configuration"
RUN rm /etc/mongod.conf.orig
COPY --link scripts/docker/containers/database/mongo/etc/mongod.conf /etc/mongod.conf
RUN chmod +x -R /tmp

# ----------------------------------------------------------------------------------------------------------------------
# STEP - 06 : Copy source files
# ----------------------------------------------------------------------------------------------------------------------
# RUN echo "[ Mongo ] Copy source files"

# ----------------------------------------------------------------------------------------------------------------------
# STEP - 07 : Start the service
# ----------------------------------------------------------------------------------------------------------------------
RUN echo "[ Mongo ] Start the service"